# EJS 템플릿 엔진
> 템플릿엔진은 서버에서 html을 동적으로 만들어서 브라우저에게 응답을 보내 페이지를 렌더링 하는 도구

## 특징
> 자바스크립트 문법을 그대로 사용가능하며 기호를 사용해서 자바스트립트 영역을 표현 
```js
// < % %> : 기호 사용, 파일을 읽어서 내용을 자바스크립트로 호출한다.
<% 코드의 내용 %> 
```
> 장점 : 랜더링 속도가 브라우저에서 동적으로 생성하는 방식이 아닌 서버에서 내용을 동적으로 만들고 완성된 html을 응답하기 때문에 렌더링 속도가 빠르다.
> nodejs와도 호환성이 좋다. express를 사용하면서 추가적인 템플릿 엔진 내용의 메서드를 제공한다.

## 템플릿 엔진은?
> EJS는 html에서 자바스크립트를 제어해서 동적인 페이지를 만드는것이 목적
> 서버사이드 렌더링을 사용할때 사용한다.
> 동적인 html이 필요성을 느끼게 되고, 프론트측에서 동적인 웹페이지를 처리하다보니 내용이 무거워질수록 렌더링의 속도가 저하되고, 사용자의 이탈이 생길 수 있다. 
> 서버사이드 렌더링(SSR) 클라이언트 사이드(CSR)가 아닌 서버에서 검색을 하는 경우에도 페이지의 완성을 서버측에서 동적인 페이지를 완성해서 클라이언트에게 응답을 해준다.
> 서버측 자원을 사용하고 클라이언트의 자원을 줄일 수 있다.
> nodejs가 많이 알려지면서 express같은 라이브러리의 사용이 많아졌고, express가 버전이 많이 업데이트되면서 EJS의 내용도 지원하기 시작했다. 

### ejs의 문법
```html
<!-- JS 문법을 html에 작성 -->

<html>
    <header></header>
    <body>
        <div><%= title %></div>
    </body>
</html>

<!-- html 파일의 내용을 읽어서 ejs 구문이 있는 부분을 해석. 코드 내용을 호출한다.-->
<!--<%= title %> =이 들어간 <%= %> 변수를 html 영역에 할당 title이란 변수를 찾아서 값을 전달 -->

```
```js
const express = require("express");
const app = express();
// app 서버객체라는 것은 ? 서버에서 동작할 내용의 상태를 가지고 있다.
// app 서버에서 동작할 내용의 상태를 변경하여 서버의 로직을 제어할 수 있는 메서드을을 제공한다. net에서 조건문 혹은 라이브러리 형태로 만든 내용들이 모던하게 객체화 되어서 작성이 되어있는것
// ejs를 사용한다는 객체의 상태를 변겨

// set 경로나 설정의 내용을 객체에 추가한다
// set이라는 구문은 개발을 할때 값을 할당하겠다 업데이트 수정
// 첫번째 매개변수가 key, 두번쨰 매개변수가 value 
// 화면을 그리는 render === 이전에 dom객체로 화면을 구성할 dom을 동적으로 생성해서 화면을 출력하는 메서드를 만든적이 있는데 이러한 내용이 포함된 메서드를 제공한다.
// view engine이 key에 render함수 호출할때 사용할 엔진의 이름이 할당되어있다.
app.set("view engine", "ejs");
//render 함수를 호출할때 어느 경로를 루트로 설정해서 파일을 찾을건지

// 메서드의 get은 이전의 get과 setㅇㄹ 구분해서 사용한 코드의 내용과 같다고 보면 안됨
// 아래부분의 get메서드는 요청 메세지의 어느 메서드로 요청을 보냈는지
// 짐작하건대, if(app.get.url = "/") 일때 callback(요청객체, 응답객체, 다음 미들웨어 호출);
app.get("/", (req, res, next)=> {
    req.uid = :"soon"
    next();
})
// 짐작하건대, if(app.post.url = "/") 일때 callback();
app.post("/", ()=> {
    // next가 호출된 이후에 이 미들웨어 핸들러 함수 호출
    console.log(req,uid) ==="soon"

})

app.listen(3000, ()=>{
    console.log("server on");
})
```

## 설치내용
```sh
npm i express
node version 15
node version 20
node version에 따라 라이브러리의 버전이 변경될 수 있다.

실제로 버전의 정보가 작성되어있는
package-lock.json 도 중요한 파일

라이브러리의 의존성 내용이 작성되어있고
npm에 우리의 라이브러리를 배포할 때 필요한 내용들이 작성되어있는것
package.json 


라이브러리 버전의 차이가 난다
팀원간의 nodejs 버전을 맞춰서 사용해야한다
```

## ud 수정 삭제
> 글을 수정하는 ㅍ이지
> 삭제버튼은 글 옆에 배치
> 상세 페이지에도 삭제 버튼 수정버튼이 있음