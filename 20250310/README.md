# 데이터 베이스
> 정보를 규칙적 체계적으로 저장 관리하기 위한 시스템이다.
> 소프트웨어를 개발할때 필요한 데이터를 효율적으로 관리하기위해서 사용하는 것.
> 쇼핑몰을 예를들면 사용자 계정 정보, 신상 정보, 거래 내용 등등을 안전하게 보관하기 위해서

## 데이터베이스의 장점
> 이전에는 문서로 데이터를 기록하고 관리를 했는데 문서로 관리하는 방법은 관리도 어렵고 원하는 데이터를 찾기가 힘들다. 검색도 힘들고 분실의 위험도 있었다. 
> 컴퓨터가 발전을 하면서 빠르게 데이터를 관리할 수 있는 데이터 베이스를 개발하여 사용하게 되었다.
1. 데이터를 빠르게 조회할 수 있다.
2. 중복되는 데이터를 줄일 수 있다.
3. 데이터를 안전하게 보호할 수 있다.

### 데이터베이스의 발전 
1. 파일 시스템
> 초기의 데이터 저장방식은 파일 시스템이였다.
> 개별 파일에 데이터를 저장해서 보관 (예. 메모장처럼 값을 입력해서 파일의 형태로 저장)
- 같은 데이터가 중복될 가능성이 있음.
- 데이터를 검색할 때 비효율적이고 수정할때 모든 파일을 확인해서 수정해야한다.

2. 계층형 데이터 베이스 
> 파일 시스템의 문제인 데이터를 수정할때 값을 조회하는 부분이 
> 계층형 IBM에서 개발한 데이터 베이스. 트리의 구조를 사용해서 데이터의 부모와 자식 단계로 저장하는 방식
> 여러 부모와 자식 관계를 허용해서 데이터를 관리하는 방식

- 데이터의 구조가 복잡해짐. 데이터의 수정도 복잡하기 때문에 관리하기가 어렵다.

3. 관계형 데이터 베이스
> 관계형 데이터 베이스의 개념이 탄생
> 데이터를 표의 형태로 저장해서 SQL이라는 구분을 사용해서 데이터를 쉽게 조회하고 저장할 수 있도록 설계

- 데이터를 중복 없이 효율적으로 관리하기 위해서 사용 
- 데이터의 조회가 빠르다.
- 데이터의 무결성을 유지할 수 있다.

> 관계형 모델은 처음 데이터베이스를 접하는 사용자가 배우기 좋고
> 규칙적으로 데이터를 관리하기 때문에 쇼핑몰 주문 결제 이러한 데이터의 연관성 관계를 설계하기 좋은 모델이다.
> 보안과 접근의 제어가 중요한 경우 

4. NoSql 데이터 베이스
> 데이터가 너무 대량으로 방대해지다보니 대량의 데이터를 처리하는데 한계가 있었다. 확장성이 좋은 형태로 NoSql의 데이터베이스가 탄생
- key : value 형태로 저장 ( 문서 기반, 열 기반 데이터 저장소 )
- 자유롭다보니 규칙을 작성해서 체계적으로 사용을 해야한다.

> 데이터의 값의 변경이 자주 필요한 경우 유용하다. 

### 데이터 베이스 관리 시스템 (BDMS)
> 데이터베이스를 생성하고 관리하는 소프트웨어
> 역할 : 데이터의 저장과 검색 수정 삭제
> 보안과 권한을 관리한다.

### SQL(Structured Query Language)
> SQL은 관계형 데이터 베이스의 데이터를 제어하는 언어이다.

1. DDL(data definition language) 데이터의 정의어 : create alter drop
> 테이블의 관계의 구조를 생성하는데 사용하는 구문
> 테이블의 생성 삭제 수정

2. DML(data manipulation language) 데이터 조작어 : INSERT UPDATE DELETE
> 테이블의 데이터 검색 생성 수정 삭제 (CRUD)

3. DQL(data query language) 데이터 조회어 : SELECT
> 테이블의 값을 검색할 때 사용

4. DCL(data control language) 데이터 제어어 : GRANT REVOKE
> 데이터의 사용 권한을 관리하는데 사용

### 데이터베이스의 작업 단위 트랜잭션
> 트랜잭션은 데이터베이스에서 사용되는 작업단위다.
### 작업단위의 원칙(ACID)
- 원자성 (Atomicity) : 모든 작업이 성공해야 저장한다.
- 일관성 (Consistency) : 데이퍼의 무결성을 유지한다.
- 고립성 (Isolation) : 여러 트랜잭션이 독립적으로 실행된다.
- 지속성 (Durability) : 트랜잭션이 완료되면 영구적으로 데이터를 저장한다.

### MYSQL
> 오픈소스로 많이 제공되고있고 무료 데이터베이스

### 관계형 데이터베이스의 개념
- 테이블: 데이터를 저장하는 기본 단위
- 행: 레코드 하나의 데이터의 단위
- 열 : 저장할 데이터의 속성 혹은 필드라는 값의 단위
- 기본키 : 각 행의 고유 식별자(검색 속도에 영향을 준다.)
- 외래키 : 다른 테이블의 관계성을 나타내는 키(제약조건)


> 설치
```sh
# 환경 변수 확인

# mysql 접속
mysql -u root -p
# password 입력 창

# 경로를 시스템 환경 변수로 지정
# c:\Program Files\MySQL Server 8.0 \bin
# 이런식으로 설치된 소프트웨어의 경로
# bin 폴더 경로에서 mysql 구문을 사용 가능

# 시스템 환경변수로 지정 
# 돋보기 누르고 시스템 환경변수  편집 창 열고
# 환경변수 버튼 누르고 
# 유저에 대한 사용자 변수에 Path 클릭
# 새로만들기 눌러서 c:\Program Files\MySQL Server 8.0 \bin 추가, 저장

# database 조회
show database; 

# 데이터 베이스 생성
create database 데이터베이스 이름


```
### 테이블 
1. 컬럼 (열) : 테이블의 세로 항목 데이터의 유형을 표현
2. 로우(행) : 테이블의 가로 항목의 컬럼의 값들을 하나의 로우로 구성

| id | name  | class      | date       |
| 1  | soon  | blockChain | 2025-03-10 |
| 2  | soon2 | blockChain | 2025-03-10 |
| 3  | soon3 | blockChain | 2025-03-10 |

- 위에서 class가 중복되니까 아래처럼 따로 빼기

| id | name  | class_id     | date       |
| 1  | soon  | 1            | 2025-03-10 |
| 2  | soon2 | 1            | 2025-03-10 |
| 3  | soon3 | 1            | 2025-03-10 |

| id | class      | content |
|  1 | blockChain | text    |
|  2 | game       | text    |

### RDBMS의 특징
> 중복되는 데이터를 최소화시킨다.
> 테이블의 관계성을 맺어서 중복되는 데이터를 최소화 시킨다.

## 필드의 타입
- 문자형 : 가변 길이의 문자형, 고정 길이의 문자형
- 숫자형 : 정수형과 숫자형
- 날짜형
- 옵션 : 값의 옵션을 지정

### 문자형
- VARCHAR : 가변 길이의 문자형 정의한 길이보다 적게 사용한 경우 문자형에 맞게 데이터의 크기를 지정한다. 5자로 설정을 했는데 3자를 사용하면 3자리 만큼의 데이터의 크기로 저장한다.

- CHAR : 고정 길이의 문자형. 설정한 문자의 크기가 5. 우리가 저장한 문자의 크기가 3이면 2자리는 공백으로 채워진다. 5의 크기만큼씩 저장이 고정된다.

- TEXT : 65,535개의 문자를 사용할 수 있는 타입
> 너무 큰 텍스트의 내용을 사용하면 텍스트 파일로 관리하는 게 효과적
> 최적화 관련해서 사용하기 위해서는 문서를 파일로 만들어서 경로를 저장한 후 파일시스템으로 가져와서 사용하는게 효과적

- BLOB : 이미지 처럼 큰 파일을 저장할 수 있는 문자열 데이터를 저장할 때 사용할 수 있다. ( 요즘에는 사용하지않고 클라우드 저장소나 이미지를 저장한 경로를 사용한다.)

### 정수 숫자형

UNSIGND 옵션이 있을때는 범위가 0~4,292,976,295
- INT : 정수형 -2,147,483,648 ~ 2,147,483,647

- BIGINT : -9,223,372,036,854,775,808 ~ 9,223,372,046,854,775,807 숫자를 사용할 수 있다. 

### 실수형

- DUBLE : 부동 소수와 다르게 근사값을 저장한다. 소수점의 숫자를 저장할 수 있는 타입

### 날짜형

- DATE : 2025-03-10 이런식으로 날짜의 데이터를 저장할수있는 타입 yyyy-mm-dd 형식을 사용한다.

### 실습
- 유저의 회원 정보로 가입했을때 저장할 테이블을 만들어주세요
- 테이블의 이름은 users
- 저장할 유저의 데이터는 아이디(문자열)와 비밀번호(문자열) 닉네임(문자열) 성별(문자열) 생성시간(타임스탬프)
- 아이디로 조회를 하면 해당 유저의 비밀번호를 조회
- 유저의 아이디와 비밀번호와 닉네임은 값이 입력이 안되면 안되고 성별은 입력이 안되어도 된다. 시간은 입력받지 말고 디폴트 설정
- 유저의 아이디는 고유한 식별자로 만들기



